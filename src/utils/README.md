# Utilities

This directory contains reusable utility scripts for S&P500 stock data analysis and processing.

## Files

### `data_utils.py`
Core data utility functions for loading, processing, and analyzing stock data. Provides centralized path management, data loading functions, quality scoring calculations, and common data operations used across the project.

### `stock_ranking.py`
Ranks all S&P500 stocks by data quality score based on completeness and historical coverage. Requires `yoy_analysis_full.csv` generated by `yoy_eda_analysis.py`. Generates ranked CSV and text files for all stocks from 2009-2025, used for overlap analysis with news data.

### `yoy_eda_analysis.py`
Performs year-over-year exploratory data analysis on S&P500 stock data. Calculates yearly metrics including returns, volatility, volume changes, and data completeness. Generates yearly summary and YoY analysis CSV files.

## Execution Order

Scripts must be run in the following order due to dependencies:

1. **`yoy_eda_analysis.py`** - Run first to generate YoY analysis files
2. **`stock_ranking.py`** - Requires output from step 1

## Usage

All scripts can be run independently from the command line:

```bash
python3 stock_ranking.py
python3 yoy_eda_analysis.py
```

Import utility functions in other scripts:

```python
from utils.data_utils import load_stock_csv, calculate_quality_score
```

## Configuration

Project paths and parameters are defined in `config.yaml` at the project root.
